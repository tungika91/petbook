{"ast":null,"code":"var _jsxFileName = \"/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/medicals/PetMedicalRecord.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { useContext, useState } from 'react';\nimport DataContext from '../context/DataContext';\nimport api from '../api/posts';\nimport FileUpload from \"../FileUpload\";\nimport FileDownload from '../FileDownload';\nimport { MdDeleteForever, MdEditSquare, MdKeyboardDoubleArrowDown, MdKeyboardDoubleArrowUp } from \"react-icons/md\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PetMedicalRecord = ({\n  record,\n  pet_id\n}) => {\n  _s();\n\n  const {\n    userID,\n    auth\n  } = useContext(DataContext);\n  const {\n    id\n  } = useParams(); // extract the id from the link\n\n  const navigate = useNavigate();\n  const [popUpMenu, setPopUpMenu] = useState(false);\n\n  function PopUpMenu() {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"drop-down\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `${record.id}/edit`,\n        state: record,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(MdEditSquare, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleMedicalDelete(),\n        children: /*#__PURE__*/_jsxDEV(MdDeleteForever, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 22,\n          columnNumber: 61\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FileDownload, {\n        record_id: record.id,\n        pet_id: pet_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n        record_id: record.id,\n        pet_id: pet_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this);\n  }\n\n  const handleMedicalDelete = async () => {\n    try {\n      await api.delete(`${userID}/pets/${id}/medical/${record.id}`, {\n        headers: {\n          'x-access-token': auth.accessToken\n        }\n      });\n      navigate(`/post/${id}/medical`);\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n\n    navigate('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"record\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"recordTitle\",\n        children: record.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"ID: \", record.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Clinic: \", record.clinic]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Address: \", record.address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Phone: \", record.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Doctor: \", record.doctor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Reason: \", record.agenda]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Attachment: \", record.attachment]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPopUpMenu(!popUpMenu),\n        children: popUpMenu ? /*#__PURE__*/_jsxDEV(MdKeyboardDoubleArrowUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 35\n        }, this) : /*#__PURE__*/_jsxDEV(MdKeyboardDoubleArrowDown, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), popUpMenu && PopUpMenu()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}; // sending props down Link through state. Then prop can be accessed via useLocation\n\n\n_s(PetMedicalRecord, \"/Q5VIObAjQ7tQDTM5GG6TLum3tc=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = PetMedicalRecord;\nexport default PetMedicalRecord;\n\nvar _c;\n\n$RefreshReg$(_c, \"PetMedicalRecord\");","map":{"version":3,"sources":["/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/medicals/PetMedicalRecord.js"],"names":["Link","useNavigate","useParams","useContext","useState","DataContext","api","FileUpload","FileDownload","MdDeleteForever","MdEditSquare","MdKeyboardDoubleArrowDown","MdKeyboardDoubleArrowUp","PetMedicalRecord","record","pet_id","userID","auth","id","navigate","popUpMenu","setPopUpMenu","PopUpMenu","handleMedicalDelete","delete","headers","accessToken","err","console","log","message","date","clinic","address","phone","doctor","agenda","attachment"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,WAAf,EAA4BC,SAA5B,QAA6C,kBAA7C;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,GAAP,MAAgB,cAAhB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,SAASC,eAAT,EAA0BC,YAA1B,EAAwCC,yBAAxC,EAAmEC,uBAAnE,QAAmG,gBAAnG;;;;AAGA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA;AAAV,CAAD,KAAwB;AAAA;;AAC7C,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAmBd,UAAU,CAACE,WAAD,CAAnC;AACA,QAAM;AAAEa,IAAAA;AAAF,MAAShB,SAAS,EAAxB,CAF6C,CAEjB;;AAC5B,QAAMiB,QAAQ,GAAGlB,WAAW,EAA5B;AACA,QAAM,CAACmB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,KAAD,CAA1C;;AAEA,WAASkB,SAAT,GAAqB;AACjB,wBACI;AAAI,MAAA,SAAS,EAAC,WAAd;AAAA,8BACI,QAAC,IAAD;AAAM,QAAA,EAAE,EAAK,GAAER,MAAM,CAACI,EAAG,OAAzB;AAAiC,QAAA,KAAK,EAAKJ,MAA3C;AAAA,+BACI;AAAA,iCAAQ,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII;AAAQ,QAAA,OAAO,EAAE,MAAIS,mBAAmB,EAAxC;AAAA,+BAA4C,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAA5C;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI,QAAC,YAAD;AAAc,QAAA,SAAS,EAAKT,MAAM,CAACI,EAAnC;AAAwC,QAAA,MAAM,EAAKH;AAAnD;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI,QAAC,UAAD;AAAY,QAAA,SAAS,EAAKD,MAAM,CAACI,EAAjC;AAAsC,QAAA,MAAM,EAAKH;AAAjD;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAUH;;AAED,QAAMQ,mBAAmB,GAAG,YAAY;AACpC,QAAI;AACA,YAAMjB,GAAG,CAACkB,MAAJ,CAAY,GAAER,MAAO,SAAQE,EAAG,YAAWJ,MAAM,CAACI,EAAG,EAArD,EAAwD;AAC1DO,QAAAA,OAAO,EAAE;AACL,4BAAkBR,IAAI,CAACS;AADlB;AADiD,OAAxD,CAAN;AAKAP,MAAAA,QAAQ,CAAE,SAAQD,EAAG,UAAb,CAAR;AACH,KAPD,CAOE,OAAOS,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAa,UAASF,GAAG,CAACG,OAAQ,EAAlC;AACH;;AACDX,IAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,GAZD;;AAaA,sBACI;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA,kBAA8BL,MAAM,CAACiB;AAArC;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,MAA3B,EAAiCjB,MAAM,CAACI,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,UAA3B,EAAqCJ,MAAM,CAACkB,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,WAA3B,EAAsClB,MAAM,CAACmB,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,SAA3B,EAAoCnB,MAAM,CAACoB,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,UAA3B,EAAqCpB,MAAM,CAACqB,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,UAA3B,EAAqCrB,MAAM,CAACsB,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,cAA3B,EAAyCtB,MAAM,CAACuB,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eAUI;AAAQ,QAAA,OAAO,EAAE,MAAMhB,YAAY,CAAC,CAACD,SAAF,CAAnC;AAAA,kBACMA,SAAS,gBAAG,QAAC,uBAAD;AAAA;AAAA;AAAA;AAAA,gBAAH,gBAAgC,QAAC,yBAAD;AAAA;AAAA;AAAA;AAAA;AAD/C;AAAA;AAAA;AAAA;AAAA,cAVJ,EAaKA,SAAS,IAAIE,SAAS,EAb3B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAmBH,CAnDD,C,CAoDA;;;GApDMT,gB;UAEaX,S,EACED,W;;;KAHfY,gB;AAsDN,eAAeA,gBAAf","sourcesContent":["import { Link, useNavigate, useParams } from 'react-router-dom';\nimport { useContext, useState } from 'react';\nimport DataContext from '../context/DataContext';\nimport api from '../api/posts';\nimport FileUpload from \"../FileUpload\";\nimport FileDownload from '../FileDownload';\nimport { MdDeleteForever, MdEditSquare, MdKeyboardDoubleArrowDown, MdKeyboardDoubleArrowUp  } from \"react-icons/md\";\n\n\nconst PetMedicalRecord = ({ record, pet_id }) => {\n    const { userID, auth } = useContext(DataContext);\n    const { id } = useParams(); // extract the id from the link\n    const navigate = useNavigate();\n    const [popUpMenu, setPopUpMenu] = useState(false);\n\n    function PopUpMenu() {\n        return (\n            <ul className=\"drop-down\">\n                <Link to = {`${record.id}/edit`} state = { record }>\n                    <button><MdEditSquare/></button>\n                </Link>\n                <button onClick={()=>handleMedicalDelete()}><MdDeleteForever /></button>\n                <FileDownload record_id = { record.id } pet_id = { pet_id }/>\n                <FileUpload record_id = { record.id } pet_id = { pet_id } />\n            </ul>\n        );\n    }\n\n    const handleMedicalDelete = async () => {\n        try {\n            await api.delete(`${userID}/pets/${id}/medical/${record.id}`, {\n                headers: {\n                    'x-access-token': auth.accessToken\n                }\n            });\n            navigate(`/post/${id}/medical`)\n        } catch (err) {\n            console.log(`Error: ${err.message}`)\n        }\n        navigate('/');\n    }\n    return (\n        <>\n            <div className=\"record\">\n                <h2 className=\"recordTitle\">{ record.date }</h2>\n                <li className=\"recordList\">ID: { record.id }</li>\n                <li className=\"recordList\">Clinic: { record.clinic }</li>\n                <li className=\"recordList\">Address: { record.address }</li>\n                <li className=\"recordList\">Phone: { record.phone }</li>\n                <li className=\"recordList\">Doctor: { record.doctor }</li>\n                <li className=\"recordList\">Reason: { record.agenda }</li>\n                <li className=\"recordList\">Attachment: { record.attachment }</li>\n\n                <button onClick={() => setPopUpMenu(!popUpMenu)}> \n                    { popUpMenu ? <MdKeyboardDoubleArrowUp/> : <MdKeyboardDoubleArrowDown/> }\n                </button>\n                {popUpMenu && PopUpMenu()}\n            </div>\n        </>\n    )\n}\n// sending props down Link through state. Then prop can be accessed via useLocation\n\nexport default PetMedicalRecord\n"]},"metadata":{},"sourceType":"module"}