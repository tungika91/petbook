{"ast":null,"code":"var _jsxFileName = \"/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/medicals/PetMedicalRecord.js\",\n  _s = $RefreshSig$();\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { useContext, useState } from 'react';\nimport DataContext from '../context/DataContext';\nimport api from '../api/axios';\nimport FileUpload from \"../FileUpload\";\nimport FileDownload from '../FileDownload';\nimport { MdDeleteForever, MdEditSquare, MdKeyboardDoubleArrowDown, MdKeyboardDoubleArrowUp } from \"react-icons/md\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst PetMedicalRecord = ({\n  record,\n  pet_id\n}) => {\n  _s();\n  const {\n    userID,\n    auth\n  } = useContext(DataContext);\n  const {\n    id\n  } = useParams(); // extract the id from the link\n  const navigate = useNavigate();\n  const [popUpMenu, setPopUpMenu] = useState(false);\n  function PopUpMenu() {\n    return /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"drop-down\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: `${record.id}/edit`,\n        state: record,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: /*#__PURE__*/_jsxDEV(MdEditSquare, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          const confirmBox = window.confirm(\"Do you really want to remove this record?\");\n          confirmBox ? handleMedicalDelete() : console.log('No');\n        },\n        children: /*#__PURE__*/_jsxDEV(MdDeleteForever, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FileDownload, {\n        record_id: record.id,\n        pet_id: pet_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n        record_id: record.id,\n        pet_id: pet_id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 13\n    }, this);\n  }\n  const handleMedicalDelete = async () => {\n    try {\n      await api.delete(`${userID}/pets/${id}/medical/${record.id}`, {\n        headers: {\n          'x-access-token': auth.accessToken\n        }\n      });\n      navigate(`/post/${id}/medical`);\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n    navigate('/');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"record\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"recordTitle\",\n        children: record.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"ID: \", record.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Clinic: \", record.clinic]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Address: \", record.address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Phone: \", record.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Doctor: \", record.doctor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Reason: \", record.agenda]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Attachment: \", record.attachment]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setPopUpMenu(!popUpMenu),\n        children: popUpMenu ? /*#__PURE__*/_jsxDEV(MdKeyboardDoubleArrowUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 35\n        }, this) : /*#__PURE__*/_jsxDEV(MdKeyboardDoubleArrowDown, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), popUpMenu && PopUpMenu()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n// sending props down Link through state. Then prop can be accessed via useLocation\n_s(PetMedicalRecord, \"/Q5VIObAjQ7tQDTM5GG6TLum3tc=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = PetMedicalRecord;\nexport default PetMedicalRecord;\nvar _c;\n$RefreshReg$(_c, \"PetMedicalRecord\");","map":{"version":3,"names":["Link","useNavigate","useParams","useContext","useState","DataContext","api","FileUpload","FileDownload","MdDeleteForever","MdEditSquare","MdKeyboardDoubleArrowDown","MdKeyboardDoubleArrowUp","React","jsxDEV","_jsxDEV","Fragment","_Fragment","PetMedicalRecord","record","pet_id","_s","userID","auth","id","navigate","popUpMenu","setPopUpMenu","PopUpMenu","className","children","to","state","fileName","_jsxFileName","lineNumber","columnNumber","onClick","confirmBox","window","confirm","handleMedicalDelete","console","log","record_id","delete","headers","accessToken","err","message","date","clinic","address","phone","doctor","agenda","attachment","_c","$RefreshReg$"],"sources":["/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/medicals/PetMedicalRecord.js"],"sourcesContent":["import { Link, useNavigate, useParams } from 'react-router-dom';\nimport { useContext, useState } from 'react';\nimport DataContext from '../context/DataContext';\nimport api from '../api/axios';\nimport FileUpload from \"../FileUpload\";\nimport FileDownload from '../FileDownload';\nimport { MdDeleteForever, MdEditSquare, MdKeyboardDoubleArrowDown, MdKeyboardDoubleArrowUp } from \"react-icons/md\";\nimport React from 'react';\n\nconst PetMedicalRecord = ({ record, pet_id }) => {\n    const { userID, auth } = useContext(DataContext);\n    const { id } = useParams(); // extract the id from the link\n    const navigate = useNavigate();\n    const [popUpMenu, setPopUpMenu] = useState(false);\n\n    function PopUpMenu() {\n        return (\n            <ul className=\"drop-down\">\n                <Link to = {`${record.id}/edit`} state = { record }>\n                    <button><MdEditSquare/></button>\n                </Link>\n                <button onClick={() => {\n                    const confirmBox = window.confirm(\"Do you really want to remove this record?\");\n                    confirmBox ? handleMedicalDelete() : console.log('No')}}>\n                    <MdDeleteForever/>\n                </button>\n                <FileDownload record_id = { record.id } pet_id = { pet_id }/>\n                <FileUpload record_id = { record.id } pet_id = { pet_id } />\n            </ul>\n        );\n    }\n\n    const handleMedicalDelete = async () => {\n        try {\n            await api.delete(`${userID}/pets/${id}/medical/${record.id}`, {\n                headers: {\n                    'x-access-token': auth.accessToken\n                }\n            });\n            navigate(`/post/${id}/medical`)\n        } catch (err) {\n            console.log(`Error: ${err.message}`)\n        }\n        navigate('/');\n    }\n    return (\n        <>\n            <div className=\"record\">\n                <h2 className=\"recordTitle\">{ record.date }</h2>\n                <li className=\"recordList\">ID: { record.id }</li>\n                <li className=\"recordList\">Clinic: { record.clinic }</li>\n                <li className=\"recordList\">Address: { record.address }</li>\n                <li className=\"recordList\">Phone: { record.phone }</li>\n                <li className=\"recordList\">Doctor: { record.doctor }</li>\n                <li className=\"recordList\">Reason: { record.agenda }</li>\n                <li className=\"recordList\">Attachment: { record.attachment }</li>\n\n                <button onClick={() => setPopUpMenu(!popUpMenu)}> \n                    { popUpMenu ? <MdKeyboardDoubleArrowUp/> : <MdKeyboardDoubleArrowDown/> }\n                </button>\n                {popUpMenu && PopUpMenu()}\n            </div>\n        </>\n    )\n}\n// sending props down Link through state. Then prop can be accessed via useLocation\n\nexport default PetMedicalRecord\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}