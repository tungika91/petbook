{"ast":null,"code":"var _jsxFileName = \"/Users/tungngo/Dropbox/Personal/Learning/React/petbook/src/PostPage.js\",\n    _s = $RefreshSig$();\n\nimport { useParams, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useContext, useEffect } from 'react';\nimport DataContext from './context/DataContext';\nimport api from 'api/posts'; // -------------- CSS Style -------------- //\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Button1 = styled.button`\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem;\n    font-size: 1rem;\n    background-color: #ff5e6c;\n    color: white;\n    cursor: pointer;\n`;\n_c = Button1;\nconst Button2 = styled.button`\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem; \n    font-size: 1rem;\n    background-color: #fff5d7;\n    color: black;\n    cursor: pointer;\n`;\n_c2 = Button2;\nconst [picURL, setPicURL] = useState('');\n\nconst PostPage = () => {\n  _s();\n\n  const {\n    pets,\n    handleDelete,\n    sendEmail,\n    userID,\n    auth\n  } = useContext(DataContext);\n  const {\n    id\n  } = useParams(); // id is used in Route\n  // specify the post we want to see by finding the post.id\n\n  const pet = pets.find(pet => pet.id.toString() === id); // === is for string match, == for numeric\n\n  useEffect(() => {\n    const getImages = async id => {\n      try {\n        // in axios, it automatically returns response in json format and catch the error, accesible through response.data\n        const response = await api.get(`${userID}/pets/${id}/upload`, {\n          headers: {\n            'x-access-token': auth.accessToken\n          }\n        });\n        setPicURL(response.data); // response.data is in json format\n\n        console.log(response.data);\n      } catch (err) {\n        if (err.response) {\n          // Not in the 200 response range\n          console.log(err.response.data);\n          console.log(err.response.status);\n          console.log(err.response.headers);\n        } else {\n          console.log(`Error: ${err.message}`);\n        }\n      }\n    };\n\n    getImages(pet.id);\n  }, [pet.id]);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"PostPage\",\n    children: /*#__PURE__*/_jsxDEV(\"article\", {\n      className: \"post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"column\",\n        children: [pet && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: pet.pet_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"postBody\",\n            children: [\"Birthday: \", pet.pet_dob.slice(0, 16)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"postBody\",\n            children: [\"Last deworm date: \", pet.last_deworm.slice(0, 16)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"postBody\",\n            children: [\"Age: \", pet.pet_age]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"postBody\",\n            children: [\"Sterilised: \", pet.sterilised.toString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"postBody\",\n            children: [\"Pet Type: \", pet.pet_type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"postBody\",\n            children: [\"Owner: \", pet.owner]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button1, {\n            onClick: () => handleDelete(pet.id),\n            children: \"Remove Pet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: `edit`,\n            children: /*#__PURE__*/_jsxDEV(Button2, {\n              children: \"Edit Pet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 43\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button2, {\n            onClick: () => sendEmail(pet.id),\n            children: \"Notify me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true), !pet && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Pet Not Found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/\",\n              children: \"Return to Homepage\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Profile Picture\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: picURL\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PostPage, \"BbDn6ClU5jFLigJ6LOPjNuEY4f4=\", false, function () {\n  return [useParams];\n});\n\n_c3 = PostPage;\nexport default PostPage;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Button1\");\n$RefreshReg$(_c2, \"Button2\");\n$RefreshReg$(_c3, \"PostPage\");","map":{"version":3,"sources":["/Users/tungngo/Dropbox/Personal/Learning/React/petbook/src/PostPage.js"],"names":["useParams","Link","styled","useContext","useEffect","DataContext","api","Button1","button","Button2","picURL","setPicURL","useState","PostPage","pets","handleDelete","sendEmail","userID","auth","id","pet","find","toString","getImages","response","get","headers","accessToken","data","console","log","err","status","message","pet_name","pet_dob","slice","last_deworm","pet_age","sterilised","pet_type","owner"],"mappings":"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","sourcesContent":["import { useParams, Link } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport { useContext, useEffect } from 'react';\nimport DataContext from './context/DataContext';\nimport api from 'api/posts';\n\n// -------------- CSS Style -------------- //\nconst Button1 = styled.button`\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem;\n    font-size: 1rem;\n    background-color: #ff5e6c;\n    color: white;\n    cursor: pointer;\n`;\n\nconst Button2 = styled.button`\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem; \n    font-size: 1rem;\n    background-color: #fff5d7;\n    color: black;\n    cursor: pointer;\n`;\nconst [picURL, setPicURL] = useState('');\n\nconst PostPage = () => {\n    const { pets, handleDelete, sendEmail, userID, auth} = useContext(DataContext);\n    const { id } = useParams(); // id is used in Route\n    // specify the post we want to see by finding the post.id\n    const pet = pets.find(pet => (pet.id).toString() === id); // === is for string match, == for numeric\n\n    useEffect(() => {\n        const getImages = async (id) => {\n            try {\n                // in axios, it automatically returns response in json format and catch the error, accesible through response.data\n                const response = await api.get(`${userID}/pets/${id}/upload`, {\n                    headers: {\n                        'x-access-token': auth.accessToken\n                    }\n                });\n                setPicURL(response.data); // response.data is in json format\n                console.log(response.data)\n            } catch (err) {\n                if (err.response) { // Not in the 200 response range\n                    console.log(err.response.data);\n                    console.log(err.response.status);\n                    console.log(err.response.headers);\n                } else { console.log(`Error: ${err.message}`) }\n            }\n        }\n        getImages(pet.id);\n    }, [pet.id]) \n\n    return (\n        <main className=\"PostPage\">\n            <article className=\"post\">\n                {/* if post is true then && ... */}\n                <div class = \"column\">\n                {pet &&\n                    <>\n                        <h2>{pet.pet_name}</h2>\n                        <li className=\"postBody\">Birthday: {pet.pet_dob.slice(0, 16)}</li>\n                        <li className=\"postBody\">Last deworm date: {pet.last_deworm.slice(0, 16)}</li>\n                        <li className=\"postBody\">Age: {pet.pet_age}</li>\n                        <li className=\"postBody\">Sterilised: {(pet.sterilised).toString()}</li>\n                        <li className=\"postBody\">Pet Type: {pet.pet_type}</li>\n                        <li className=\"postBody\">Owner: {pet.owner}</li>\n                        <Button1 onClick={() => handleDelete(pet.id)}>\n                            Remove Pet\n                        </Button1>\n\n                        <Link to={`edit`}><Button2>Edit Pet</Button2></Link>\n\n                        <Button2 onClick={() => sendEmail(pet.id)}>\n                            Notify me\n                        </Button2>\n                    </>\n                }\n                {!pet &&\n                    <>\n                        <h2>Pet Not Found</h2>\n                        <p>\n                            <Link to='/'>Return to Homepage</Link>\n                        </p>\n                    </>\n                }\n                </div>\n                <div class=\"column\">\n                    {/* Placeholder for image */}\n                    <h1>Profile Picture</h1>\n                    <img src={picURL}/>\n                </div>\n\n            </article>\n\n        </main>\n    )\n}\n\nexport default PostPage\n"]},"metadata":{},"sourceType":"module"}