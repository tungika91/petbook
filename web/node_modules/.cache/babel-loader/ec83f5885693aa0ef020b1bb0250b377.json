{"ast":null,"code":"var _jsxFileName = \"/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/medicals/PetMedicalRecord.js\",\n    _s = $RefreshSig$();\n\nimport { Link, useNavigate, useParams } from 'react-router-dom';\nimport { useContext } from 'react';\nimport DataContext from '../context/DataContext';\nimport api from '../api/posts';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PetMedicalRecord = ({\n  record\n}) => {\n  _s();\n\n  const {\n    userID,\n    auth\n  } = useContext(DataContext);\n  const {\n    id\n  } = useParams(); // extract the id from the link\n\n  const navigate = useNavigate();\n\n  const handleMedicalDelete = async () => {\n    try {\n      await api.delete(`${userID}/pets/${id}/medical/${record.id}`, {\n        headers: {\n          'x-access-token': auth.accessToken\n        }\n      });\n      navigate(`/post/${id}/medical`);\n    } catch (err) {\n      console.log(`Error: ${err.message}`);\n    }\n\n    navigate('/');\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card2.gradient\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"recordTitle\",\n        children: record.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"ID: \", record.id]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Clinic: \", record.clinic]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Address: \", record.address]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Phone: \", record.phone]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Doctor: \", record.doctor]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"recordList\",\n        children: [\"Reason: \", record.agenda]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: `${record.id}/edit`,\n      state: record,\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Edit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete-btn\",\n      onClick: () => handleMedicalDelete(),\n      children: \"x\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}; // sending props down Link through state. Then prop can be accessed via useLocation\n\n\n_s(PetMedicalRecord, \"quhfDCyGpKkPkwPin+A6vYTFRzU=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c = PetMedicalRecord;\nexport default PetMedicalRecord;\n\nvar _c;\n\n$RefreshReg$(_c, \"PetMedicalRecord\");","map":{"version":3,"sources":["/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/medicals/PetMedicalRecord.js"],"names":["Link","useNavigate","useParams","useContext","DataContext","api","PetMedicalRecord","record","userID","auth","id","navigate","handleMedicalDelete","delete","headers","accessToken","err","console","log","message","date","clinic","address","phone","doctor","agenda"],"mappings":";;;AAAA,SAASA,IAAT,EAAeC,WAAf,EAA4BC,SAA5B,QAA6C,kBAA7C;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,GAAP,MAAgB,cAAhB;;;;AAEA,MAAMC,gBAAgB,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAgB;AAAA;;AACrC,QAAM;AAAEC,IAAAA,MAAF;AAAUC,IAAAA;AAAV,MAAmBN,UAAU,CAACC,WAAD,CAAnC;AACA,QAAM;AAAEM,IAAAA;AAAF,MAASR,SAAS,EAAxB,CAFqC,CAET;;AAC5B,QAAMS,QAAQ,GAAGV,WAAW,EAA5B;;AAEA,QAAMW,mBAAmB,GAAG,YAAY;AACpC,QAAI;AACA,YAAMP,GAAG,CAACQ,MAAJ,CAAY,GAAEL,MAAO,SAAQE,EAAG,YAAWH,MAAM,CAACG,EAAG,EAArD,EAAwD;AAC1DI,QAAAA,OAAO,EAAE;AACL,4BAAkBL,IAAI,CAACM;AADlB;AADiD,OAAxD,CAAN;AAKAJ,MAAAA,QAAQ,CAAE,SAAQD,EAAG,UAAb,CAAR;AACH,KAPD,CAOE,OAAOM,GAAP,EAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAa,UAASF,GAAG,CAACG,OAAQ,EAAlC;AACH;;AACDR,IAAAA,QAAQ,CAAC,GAAD,CAAR;AACH,GAZD;;AAaA,sBACI;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA,kBAA8BJ,MAAM,CAACa;AAArC;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,MAA3B,EAAiCb,MAAM,CAACG,EAAxC;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,UAA3B,EAAqCH,MAAM,CAACc,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,WAA3B,EAAsCd,MAAM,CAACe,OAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,SAA3B,EAAoCf,MAAM,CAACgB,KAA3C;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,UAA3B,EAAqChB,MAAM,CAACiB,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,mBAA2B,UAA3B,EAAqCjB,MAAM,CAACkB,MAA5C;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAWI,QAAC,IAAD;AAAM,MAAA,EAAE,EAAK,GAAElB,MAAM,CAACG,EAAG,OAAzB;AAAiC,MAAA,KAAK,EAAKH,MAA3C;AAAA,6BACI;AAAA,kBAAQ;AAAR;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAXJ,eAcI;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAA+B,MAAA,OAAO,EAAE,MAAIK,mBAAmB,EAA/D;AAAA,gBAAmE;AAAnE;AAAA;AAAA;AAAA;AAAA,YAdJ;AAAA,kBADJ;AAkBH,CApCD,C,CAqCA;;;GArCMN,gB;UAEaJ,S,EACED,W;;;KAHfK,gB;AAuCN,eAAeA,gBAAf","sourcesContent":["import { Link, useNavigate, useParams } from 'react-router-dom';\nimport { useContext } from 'react';\nimport DataContext from '../context/DataContext';\nimport api from '../api/posts';\n\nconst PetMedicalRecord = ({ record }) => {\n    const { userID, auth } = useContext(DataContext);\n    const { id } = useParams(); // extract the id from the link\n    const navigate = useNavigate();\n\n    const handleMedicalDelete = async () => {\n        try {\n            await api.delete(`${userID}/pets/${id}/medical/${record.id}`, {\n                headers: {\n                    'x-access-token': auth.accessToken\n                }\n            });\n            navigate(`/post/${id}/medical`)\n        } catch (err) {\n            console.log(`Error: ${err.message}`)\n        }\n        navigate('/');\n    }\n    return (\n        <>\n            <div className=\"card2.gradient\">\n                <h2 className=\"recordTitle\">{ record.date }</h2>\n                <li className=\"recordList\">ID: { record.id }</li>\n                <li className=\"recordList\">Clinic: { record.clinic }</li>\n                <li className=\"recordList\">Address: { record.address }</li>\n                <li className=\"recordList\">Phone: { record.phone }</li>\n                <li className=\"recordList\">Doctor: { record.doctor }</li>\n                <li className=\"recordList\">Reason: { record.agenda }</li>\n            </div> \n\n            <Link to = {`${record.id}/edit`} state = { record }>\n                <button>Edit</button>\n            </Link>\n            <button className='delete-btn' onClick={()=>handleMedicalDelete()}>x</button>\n        </>\n    )\n}\n// sending props down Link through state. Then prop can be accessed via useLocation\n\nexport default PetMedicalRecord\n"]},"metadata":{},"sourceType":"module"}