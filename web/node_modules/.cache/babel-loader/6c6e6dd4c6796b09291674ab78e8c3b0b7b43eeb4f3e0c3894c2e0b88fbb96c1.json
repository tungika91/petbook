{"ast":null,"code":"var _jsxFileName = \"/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/ImageUpload.js\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { useState } from \"react\";\nimport DataContext from './context/DataContext';\nimport api from './api/posts';\nimport { MdOutlineFileUpload } from \"react-icons/md\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ImageUpload = ({\n  pet_id\n}) => {\n  _s();\n  const {\n    userID,\n    auth,\n    navigate\n  } = useContext(DataContext);\n  const [file, setFile] = useState();\n  const handleFile = e => {\n    console.log(e.target.files[0]);\n    setFile(e.target.files[0]);\n  };\n  const handleUpload = async e => {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await api.post(`${userID}/pets/${pet_id}/upload`, formData, {\n      headers: {\n        'x-access-token': auth.accessToken\n      }\n    });\n    console.log(response.data);\n    navigate('/');\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      class: \"file-upload\",\n      type: \"file\",\n      name: \"file\",\n      onChange: e => handleFile(e)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleUpload,\n      children: [\" \", /*#__PURE__*/_jsxDEV(MdOutlineFileUpload, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 45\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(ImageUpload, \"sQlKWM4y6ZW2EMCzCcuVzHKwRE4=\");\n_c = ImageUpload;\nexport default ImageUpload;\nvar _c;\n$RefreshReg$(_c, \"ImageUpload\");","map":{"version":3,"names":["useContext","useState","DataContext","api","MdOutlineFileUpload","React","jsxDEV","_jsxDEV","Fragment","_Fragment","ImageUpload","pet_id","_s","userID","auth","navigate","file","setFile","handleFile","e","console","log","target","files","handleUpload","formData","FormData","append","response","post","headers","accessToken","data","children","class","type","name","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/Users/tungngo/Dropbox/Personal/Learning/React/webapp/petbook/web/src/ImageUpload.js"],"sourcesContent":["import { useContext } from \"react\"\nimport { useState } from \"react\";\nimport DataContext from './context/DataContext';\nimport api from './api/posts';\nimport { MdOutlineFileUpload } from \"react-icons/md\";\nimport React from 'react';\n\nconst ImageUpload = ({ pet_id }) => {\n    const { userID, auth, navigate } = useContext(DataContext);\n    const [file, setFile] = useState();\n\n    const handleFile = (e) => {\n        console.log(e.target.files[0]);\n        setFile(e.target.files[0]);\n    }\n\n    const handleUpload = async (e) => {\n        const formData = new FormData();\n        formData.append('file', file);\n        const response = await api.post(`${userID}/pets/${pet_id}/upload`, formData, {\n            headers: {\n                'x-access-token': auth.accessToken\n            }\n        });\n        console.log(response.data);\n        navigate('/');\n    }\n\n    return (\n        <>\n            <input class=\"file-upload\" type=\"file\" name='file' onChange={(e) => handleFile(e)}/>\n            <button onClick={handleUpload}> <MdOutlineFileUpload/> </button>\n        </>\n    )\n}\n\nexport default ImageUpload\n"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,QAAQ,QAAQ,OAAO;AAChC,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,OAAOC,GAAG,MAAM,aAAa;AAC7B,SAASC,mBAAmB,QAAQ,gBAAgB;AACpD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE1B,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EAChC,MAAM;IAAEC,MAAM;IAAEC,IAAI;IAAEC;EAAS,CAAC,GAAGf,UAAU,CAACE,WAAW,CAAC;EAC1D,MAAM,CAACc,IAAI,EAAEC,OAAO,CAAC,GAAGhB,QAAQ,CAAC,CAAC;EAElC,MAAMiB,UAAU,GAAIC,CAAC,IAAK;IACtBC,OAAO,CAACC,GAAG,CAACF,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC9BN,OAAO,CAACE,CAAC,CAACG,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOL,CAAC,IAAK;IAC9B,MAAMM,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEX,IAAI,CAAC;IAC7B,MAAMY,QAAQ,GAAG,MAAMzB,GAAG,CAAC0B,IAAI,CAAE,GAAEhB,MAAO,SAAQF,MAAO,SAAQ,EAAEc,QAAQ,EAAE;MACzEK,OAAO,EAAE;QACL,gBAAgB,EAAEhB,IAAI,CAACiB;MAC3B;IACJ,CAAC,CAAC;IACFX,OAAO,CAACC,GAAG,CAACO,QAAQ,CAACI,IAAI,CAAC;IAC1BjB,QAAQ,CAAC,GAAG,CAAC;EACjB,CAAC;EAED,oBACIR,OAAA,CAAAE,SAAA;IAAAwB,QAAA,gBACI1B,OAAA;MAAO2B,KAAK,EAAC,aAAa;MAACC,IAAI,EAAC,MAAM;MAACC,IAAI,EAAC,MAAM;MAACC,QAAQ,EAAGlB,CAAC,IAAKD,UAAU,CAACC,CAAC;IAAE;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACpFlC,OAAA;MAAQmC,OAAO,EAAElB,YAAa;MAAAS,QAAA,GAAC,GAAC,eAAA1B,OAAA,CAACH,mBAAmB;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC,KAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA,eAClE,CAAC;AAEX,CAAC;AAAA7B,EAAA,CA3BKF,WAAW;AAAAiC,EAAA,GAAXjC,WAAW;AA6BjB,eAAeA,WAAW;AAAA,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}