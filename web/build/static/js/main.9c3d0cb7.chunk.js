(this.webpackJsonp16tut=this.webpackJsonp16tut||[]).push([[0],{127:function(e,t,n){"use strict";n.r(t);var c,r,s,a=n(1),o=n.n(a),i=n(21),l=n.n(i),j=(n(69),n(13)),u=n(0),d=function(e){var t=e.title,n=e.user;return Object(u.jsxs)("header",{className:"Header",children:[Object(u.jsx)("h1",{children:t}),Object(u.jsxs)("div",{children:[Object(u.jsx)(j.a,{})," ",n]})]})},b=n(10),p=n(62),O=n(8),h=n.n(O),x=n(61),m=n(11),f=n(6),v=n(7),g=n(128),w=n(133).a.create({baseURL:"https://petbook.onrender.com/users/"}),y=Object(a.createContext)({}),N=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(f.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),i=Object(f.a)(o,2),l=i[0],j=i[1],d=Object(a.useState)([]),b=Object(f.a)(d,2),O=b[0],N=b[1],S=Object(a.useState)(""),T=Object(f.a)(S,2),C=T[0],D=T[1],k=Object(v.h)(),F=Object(a.useState)(""),P=Object(f.a)(F,2),_=P[0],q=P[1],R=Object(a.useState)(""),E=Object(f.a)(R,2),M=E[0],Y=E[1],L=Object(a.useState)(""),B=Object(f.a)(L,2),I=B[0],U=B[1],A=Object(a.useState)({}),G=Object(f.a)(A,2),H=G[0],J=G[1],W=Object(a.useState)(""),z=Object(f.a)(W,2),V=z[0],K=z[1],Q=Object(a.useState)(""),X=Object(f.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(""),te=Object(f.a)(ee,2),ne=te[0],ce=te[1],re=Object(a.useState)(""),se=Object(f.a)(re,2),ae=se[0],oe=se[1],ie=Object(a.useState)(new Date),le=Object(f.a)(ie,2),je=le[0],ue=le[1],de=Object(a.useState)(""),be=Object(f.a)(de,2),pe=be[0],Oe=be[1],he=Object(a.useState)("false"),xe=Object(f.a)(he,2),me=xe[0],fe=xe[1],ve=Object(a.useState)(""),ge=Object(f.a)(ve,2),we=ge[0],ye=ge[1],Ne=Object(a.useState)(Z),Se=Object(f.a)(Ne,2),Te=Se[0],Ce=Se[1],De=Object(a.useState)(ne),ke=Object(f.a)(De,2),Fe=ke[0],Pe=ke[1],_e=Object(a.useState)(ae),qe=Object(f.a)(_e,2),Re=qe[0],Ee=qe[1],Me=Object(a.useState)(je),Ye=Object(f.a)(Me,2),Le=Ye[0],Be=Ye[1],Ie=Object(a.useState)(pe),Ue=Object(f.a)(Ie,2),Ae=Ue[0],Ge=Ue[1],He=Object(a.useState)(me),Je=Object(f.a)(He,2),We=Je[0],ze=Je[1],Ve=Object(a.useState)(we),Ke=Object(f.a)(Ve,2),Qe=Ke[0],Xe=Ke[1],Ze=Object(a.useState)(),$e=Object(f.a)(Ze,2),et=$e[0],tt=$e[1],nt=function(){var e=Object(m.a)(h.a.mark((function e(t,n,c,a,o,i,l,j){var u,d,b,p,O;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=r.length?r[r.length-1].id+1:1,d="true"===i.toLowerCase(),b={id:u,pet_name:t,pet_type:n,pet_dob:c,pet_gender:o,last_deworm:a,sterilised:d,pet_description:l,user_id:j},e.prev=3,e.next=6,w.post("".concat(j,"/pets/register"),b,{headers:{"x-access-token":H.accessToken}});case 6:p=e.sent,console.log(p.data),O=[].concat(Object(x.a)(r),[p.data]),s(O),$(""),ce(""),oe(""),ue(Object(g.default)(new Date,"M-d-y")),Oe(""),fe("false"),ye(""),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(3),console.log("Error: ".concat(e.t0.message));case 22:case"end":return e.stop()}}),e,null,[[3,19]])})));return function(t,n,c,r,s,a,o,i){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){(function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("".concat(I,"/pets"),{headers:{"x-access-token":H.accessToken}});case 3:t=e.sent,s(t.data),console.log(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):console.log("Error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[I,H]);var ct=function(){var e=Object(m.a)(h.a.mark((function e(t){var n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t,pet_type:Fe,pet_dob:Re,pet_gender:Ae,last_deworm:Le,sterilised:"true"===We.toLowerCase(),pet_description:Qe,pet_name:Te},e.prev=1,e.next=4,w.patch("".concat(I,"/pets/").concat(t),n,{headers:{"x-access-token":H.accessToken}});case 4:c=e.sent,console.log(c.data),s(r.map((function(e){return e.id.toString()===t?Object(p.a)({},c.data):e}))),Ce(""),k("/post/".concat(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("Error: ".concat(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(m.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("".concat(I,"/pets/").concat(t),{headers:{"x-access-token":H.accessToken}});case 3:n=r.filter((function(e){return e.id!==t})),s(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 10:k("/");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=r.filter((function(e){return e.pet_name.toLowerCase().includes(l.toLowerCase())}));N(e.reverse())}),[r,l]),Object(u.jsx)(y.Provider,{value:{search:l,setSearch:j,searchResults:O,setSearchResults:N,handleSubmit:function(e){e.preventDefault(),Z&&(nt(Z,ne,ae,je,pe,me,we,I),k("/"))},petName:Z,setPetName:$,petType:ne,setPetType:ce,dob:ae,setDob:oe,deworm:je,setDeworm:ue,gender:pe,setGender:Oe,ster:me,setSter:fe,petDesc:we,setPetDesc:ye,pets:r,handleDelete:rt,handleEdit:ct,newPetName:Te,setNewPetName:Ce,newPetType:Fe,setNewPetType:Pe,newDob:Re,setNewDob:Ee,newDeworm:Le,setNewDeworm:Be,newGender:Ae,setNewGender:Ge,newSter:We,setNewSter:ze,newPetDesc:Qe,setNewPetDesc:Xe,user:_,setUser:q,pwd:M,setPwd:Y,userID:I,setUserID:U,auth:H,setAuth:J,picURL:C,setPicURL:D,navigate:k,medicalRecord:et,setMedicalRecord:tt,email:V,setEmail:K},children:t})},S=y,T=function(){var e=Object(a.useContext)(S),t=e.search,n=e.setSearch;return Object(u.jsxs)("nav",{className:"Nav",children:[Object(u.jsxs)("form",{className:"searchForm",onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("label",{htmlFor:"search",children:"Search Posts"}),Object(u.jsx)("input",{id:"search",type:"text",placeholder:"Search Pets",value:t,onChange:function(e){return n(e.target.value)}})]}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"/",children:"Home"})}),Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"post",children:"New Pet"})}),Object(u.jsx)("li",{children:Object(u.jsx)(b.b,{to:"about",children:"About"})})]})]})},C=function(){var e=new Date;return Object(u.jsx)("footer",{className:"Footer",children:Object(u.jsxs)("p",{children:["\xa9 PetBook ",e.getFullYear()]})})},D=function(){var e=Object(a.useContext)(S).user;return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(d,{title:"PetBook",user:e}),Object(u.jsx)(T,{}),Object(u.jsx)(v.b,{}),Object(u.jsx)(C,{})]})},k=function(e){var t=e.pet;return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{}),Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:t.profile_pic,alt:t.id})}),Object(u.jsxs)("div",{children:[Object(u.jsx)(b.b,{to:"post/".concat(t.id),children:Object(u.jsx)("h3",{children:t.pet_name})}),Object(u.jsx)("span",{children:t.pet_type})]})]})},F=function(e){var t=e.pets;return Object(u.jsx)("div",{className:"container",children:t.map((function(e){return Object(u.jsx)(k,{pet:e},e.id)}))})},P=function(){var e=Object(a.useContext)(S).searchResults;return Object(u.jsx)("main",{className:"Home",children:e.length?Object(u.jsx)(F,{pets:e}):Object(u.jsx)("p",{style:{marginTop:"2rem"},children:"No pets to display."})})},_=n(28),q=n.n(_),R=(n(55),function(){var e=Object(a.useContext)(S),t=e.handleSubmit,n=e.petName,c=e.setPetName,r=e.petType,s=e.setPetType,o=e.dob,i=e.setDob,l=e.deworm,j=e.setDeworm,d=e.gender,b=e.setGender,p=e.ster,O=e.setSter,h=e.petDesc,x=e.setPetDesc;return Object(u.jsxs)("main",{className:"NewPost",children:[Object(u.jsx)("h2",{children:"New Pet"}),Object(u.jsxs)("form",{className:"newPostForm",onSubmit:t,children:[Object(u.jsx)("label",{htmlFor:"postTitle",children:"Pet Name:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:n,onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Pet Type:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:r,onChange:function(e){return s(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Gender:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:d,onChange:function(e){return b(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Birthday (MM-DD-YYYY):"}),Object(u.jsx)(q.a,{selected:o,onChange:function(e){return i(e)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Last Deworm Date (MM-DD-YYYY):"}),Object(u.jsx)(q.a,{selected:l,onChange:function(e){return j(e)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Is your pet sterilised?"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:p,onChange:function(e){return O(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postBody",children:"Description:"}),Object(u.jsx)("textarea",{id:"postBody",required:!0,value:h,onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("button",{type:"submit",children:"Submit"})]})]})}),E=n(43),M=function(e){var t=e.pet_id,n=Object(a.useContext)(S),c=n.userID,r=n.auth,s=n.navigate,o=Object(a.useState)(),i=Object(f.a)(o,2),l=i[0],d=i[1],b=function(){var e=Object(m.a)(h.a.mark((function e(n){var a,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",l),e.next=4,w.post("".concat(c,"/pets/").concat(t,"/upload"),a,{headers:{"x-access-token":r.accessToken}});case 4:o=e.sent,console.log(o.data),s("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{class:"file-upload",type:"file",name:"file",onChange:function(e){return function(e){console.log(e.target.files[0]),d(e.target.files[0])}(e)}}),Object(u.jsxs)("button",{onClick:b,children:[" ",Object(u.jsx)(j.h,{})," "]})]})},Y=n(44),L=Y.a.button(c||(c=Object(E.a)(["\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem;\n    font-size: 1rem;\n    background-color: #ff5e6c;\n    color: white;\n    cursor: pointer;\n"]))),B=Y.a.button(r||(r=Object(E.a)(["\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem; \n    font-size: 1rem;\n    background-color: #fff5d7;\n    color: black;\n    cursor: pointer;\n"]))),I=Y.a.button(s||(s=Object(E.a)(["\n    height: 48px;\n    min-width: 48px;\n    margin-left: 0.5rem;\n    border-radius: 0.25rem;\n    padding: 0.5rem; \n    font-size: 1rem;\n    background-color: green;\n    color: white;\n    cursor: pointer;\n"]))),U=function(){var e=Object(a.useContext)(S),t=e.pets,n=e.handleDelete,c=Object(v.i)().id,r=t.find((function(e){return e.id.toString()===c}));return Object(u.jsx)("main",{className:"PostPage",children:Object(u.jsx)("article",{className:"post",children:Object(u.jsx)("div",{children:r?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:r.pet_name}),Object(u.jsxs)("li",{className:"postBody",children:["Birthday: ",r.pet_dob.slice(0,16)]}),Object(u.jsxs)("li",{className:"postBody",children:["Last deworm date: ",r.last_deworm.slice(0,16)]}),Object(u.jsxs)("li",{className:"postBody",children:["Time to deworm: ",r.deworm_reminder?"Yes":"No"]}),Object(u.jsxs)("li",{className:"postBody",children:["Age: ",r.pet_age]}),Object(u.jsxs)("li",{className:"postBody",children:["Sterilised: ",r.sterilised?"Yes":"No"]}),Object(u.jsxs)("li",{className:"postBody",children:["Pet Type: ",r.pet_type]}),Object(u.jsxs)("li",{className:"postBody",children:["Description: ",r.pet_description]}),Object(u.jsx)(L,{onClick:function(){window.confirm("Do you really want to remove this pet?")?n(r.id):console.log("No")},children:Object(u.jsx)(j.b,{})}),Object(u.jsx)(b.b,{to:"edit",children:Object(u.jsxs)(B,{children:[" ",Object(u.jsx)(j.c,{})," "]})}),Object(u.jsx)(b.b,{to:"medical",children:Object(u.jsx)(I,{children:Object(u.jsx)(j.f,{})})}),Object(u.jsx)(M,{pet_id:r.id})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Pet Not Found"}),Object(u.jsx)("p",{children:Object(u.jsx)(b.b,{to:"/",children:"Return to Homepage"})})]})})})})},A=function(e){var t=e.record_id,n=e.pet_id,c=Object(a.useContext)(S),r=c.userID,s=c.auth,o=c.navigate,i=Object(a.useState)(),l=Object(f.a)(i,2),d=l[0],b=l[1],p=function(){var e=Object(m.a)(h.a.mark((function e(c){var a,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",d),e.next=4,w.post("".concat(r,"/pets/").concat(n,"/medical/").concat(t,"/upload"),a,{headers:{"x-access-token":s.accessToken}});case 4:i=e.sent,console.log(i.data),o("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("input",{class:"file-upload",type:"file",name:"file",onChange:function(e){return function(e){console.log(e.target.files[0]),b(e.target.files[0])}(e)}}),Object(u.jsxs)("button",{onClick:p,children:[" ",Object(u.jsx)(j.h,{})," "]})]})},G=function(e){var t=e.record_id,n=e.pet_id,c=Object(a.useContext)(S),r=c.userID,s=c.auth,o=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("".concat(r,"/pets/").concat(n,"/medical/").concat(t,"/download"),{headers:{"x-access-token":s.accessToken}}).then((function(e){var t=e.data;t.error?alert(t.error):window.open(t)})).catch((function(e){console.log(e)}));case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{error:e.t0});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("button",{onClick:o,children:[" ",Object(u.jsx)(j.g,{})," "]})})},H=function(e){var t=e.record,n=e.pet_id,c=Object(a.useContext)(S),r=c.userID,s=c.auth,o=Object(v.i)().id,i=Object(v.h)(),l=Object(a.useState)(!1),d=Object(f.a)(l,2),p=d[0],O=d[1];var x=function(){var e=Object(m.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("".concat(r,"/pets/").concat(o,"/medical/").concat(t.id),{headers:{"x-access-token":s.accessToken}});case 3:i("/post/".concat(o,"/medical")),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error: ".concat(e.t0.message));case 9:i("/");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"record",children:[Object(u.jsx)("h2",{className:"recordTitle",children:t.date}),Object(u.jsxs)("li",{className:"recordList",children:["ID: ",t.id]}),Object(u.jsxs)("li",{className:"recordList",children:["Clinic: ",t.clinic]}),Object(u.jsxs)("li",{className:"recordList",children:["Address: ",t.address]}),Object(u.jsxs)("li",{className:"recordList",children:["Phone: ",t.phone]}),Object(u.jsxs)("li",{className:"recordList",children:["Doctor: ",t.doctor]}),Object(u.jsxs)("li",{className:"recordList",children:["Reason: ",t.agenda]}),Object(u.jsxs)("li",{className:"recordList",children:["Attachment: ",t.attachment]}),Object(u.jsx)("button",{onClick:function(){return O(!p)},children:p?Object(u.jsx)(j.e,{}):Object(u.jsx)(j.d,{})}),p&&Object(u.jsxs)("ul",{className:"drop-down",children:[Object(u.jsx)(b.b,{to:"".concat(t.id,"/edit"),state:t,children:Object(u.jsx)("button",{children:Object(u.jsx)(j.c,{})})}),Object(u.jsx)("button",{onClick:function(){window.confirm("Do you really want to remove this record?")?x():console.log("No")},children:Object(u.jsx)(j.b,{})}),Object(u.jsx)(G,{record_id:t.id,pet_id:n}),Object(u.jsx)(A,{record_id:t.id,pet_id:n})]})]})})},J=function(){var e=Object(a.useContext)(S),t=e.pets,n=e.userID,c=e.auth,r=e.medicalRecord,s=e.setMedicalRecord,o=Object(v.i)().id,i=t.find((function(e){return e.id.toString()===o}));return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("".concat(n,"/pets/").concat(i.id,"/medical/all"),{headers:{"x-access-token":c.accessToken}});case 3:(t=e.sent).data.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),s(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?(console.log(e.t0.response.data),console.log(e.t0.response.status),console.log(e.t0.response.headers)):console.log("Error: ".concat(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()()}),[i,n,c,s]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"newRecord",children:Object(u.jsx)(b.b,{to:"new",children:Object(u.jsx)("button",{children:" Add Medical Record "})})}),Object(u.jsx)("div",{className:"container",children:r?r.map((function(e){return Object(u.jsx)(H,{record:e,pet_id:i.id},e.id)})):"Missing Record"})]})},W=function(){var e=Object(a.useContext)(S),t=e.pets,n=e.handleEdit,c=e.newPetName,r=e.setNewPetName,s=e.newPetType,o=e.setNewPetType,i=e.newDob,l=e.setNewDob,j=e.newDeworm,d=e.setNewDeworm,p=e.newGender,O=e.setNewGender,h=e.newSter,x=e.setNewSter,m=e.newPetDesc,f=e.setNewPetDesc,g=Object(v.i)().id,w=t.find((function(e){return e.id.toString()===g}));return Object(a.useEffect)((function(){w&&(r(w.pet_name),o(w.pet_type),l(new Date(w.pet_dob)),d(new Date(w.last_deworm)),O(w.pet_gender),x(w.sterilised.toString()),f(w.pet_description))}),[w,r,o,l,d,O,x,f]),Object(u.jsxs)("main",{className:"NewPost",children:[w&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Edit Pet"}),Object(u.jsxs)("form",{className:"newPostForm",onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("label",{htmlFor:"postTitle",children:"Pet Name:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:c,onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Pet Type:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:s,onChange:function(e){return o(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Gender:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:p,onChange:function(e){return O(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Birthday (MM-DD-YYYY):"}),Object(u.jsx)(q.a,{selected:i,onChange:function(e){return l(e)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Last Deworm Date (MM-DD-YYYY):"}),Object(u.jsx)(q.a,{selected:j,onChange:function(e){return d(e)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Is your pet sterilised?"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:h,onChange:function(e){return x(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postBody",children:"Description:"}),Object(u.jsx)("textarea",{id:"postBody",required:!0,value:m,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)("button",{type:"submit",onClick:function(){return n(w.id)},children:"Submit"})]})]}),!w&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Page Not Found"}),Object(u.jsx)("p",{children:"Well, that's disappointing."}),Object(u.jsx)("p",{children:Object(u.jsx)(b.b,{to:"/",children:"Visit Our Homepage"})})]})]})},z=function(){return Object(u.jsxs)("main",{className:"About",children:[Object(u.jsx)("h2",{children:"About"}),Object(u.jsx)("p",{style:{marginTop:"1rem"},children:"This is a pet project dedicated to the human's best friends!"})]})},V=function(){return Object(u.jsxs)("main",{className:"Missing",children:[Object(u.jsx)("h2",{children:"Page Not Found"}),Object(u.jsx)("p",{children:Object(u.jsx)(b.b,{to:"/",children:"Homepage"})})]})},K=function(){var e,t=Object(a.useRef)(),n=Object(a.useRef)(),c=Object(a.useContext)(S),r=c.user,s=c.setUser,o=c.pwd,i=c.setPwd,l=c.setUserID,j=c.setAuth,d=Object(a.useState)(""),b=Object(f.a)(d,2),p=b[0],O=b[1],x=Object(v.h)(),g=(null===(e=Object(v.g)().state)||void 0===e?void 0:e.from.pathname)||"/";Object(a.useEffect)((function(){t.current.focus()}),[]),Object(a.useEffect)((function(){O("")}),[r,o]);var y=function(){var e=Object(m.a)(h.a.mark((function e(t){var c,s,a,i,u,d,b;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,w.post("/login",JSON.stringify({username:r,password:o}),{headers:{"Content-Type":"application/json"}});case 4:a=e.sent,console.log(JSON.stringify(null===a||void 0===a?void 0:a.data)),i=null===a||void 0===a||null===(c=a.data)||void 0===c?void 0:c.id,u=null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.token,l(i),j({user:r,pwd:o,accessToken:u}),console.log(g),x(g,{replace:!0}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),(null===e.t0||void 0===e.t0?void 0:e.t0.response)?400===(null===(d=e.t0.response)||void 0===d?void 0:d.status)?O("Missing Username or Password"):401===(null===(b=e.t0.response)||void 0===b?void 0:b.status)?O("Wrong Username or Password"):O("Login Failed"):O("No Server Response"),n.current.focus();case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("section",{children:[Object(u.jsx)("p",{ref:n,className:p?"errmsg":"offscreen","aria-live":"assertive",children:p}),Object(u.jsx)("h1",{children:"Sign In"}),Object(u.jsxs)("form",{onSubmit:y,children:[Object(u.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(u.jsx)("input",{type:"text",id:"username",ref:t,autoComplete:"off",onChange:function(e){return s(e.target.value)},value:r,required:!0}),Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",id:"password",onChange:function(e){return i(e.target.value)},value:o,required:!0}),Object(u.jsx)("button",{children:"Sign In"})]}),Object(u.jsxs)("p",{children:["Need an Account?",Object(u.jsx)("br",{}),Object(u.jsx)("span",{className:"line",children:Object(u.jsx)("a",{href:"register",children:"Sign Up"})})]})]})},Q=function(){var e=Object(a.useRef)(),t=Object(a.useRef)(),n=Object(a.useContext)(S),c=n.user,r=n.setUser,s=n.email,o=n.setEmail,i=n.pwd,l=n.setPwd,j=Object(a.useState)(""),d=Object(f.a)(j,2),b=d[0],p=d[1],O=Object(v.h)();Object(a.useEffect)((function(){e.current.focus()}),[]),Object(a.useEffect)((function(){p("")}),[c,i]);var x=function(){var e=Object(m.a)(h.a.mark((function e(n){var a,j,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,w.post("/register",JSON.stringify({username:c,email:s,password:i}),{headers:{"Content-Type":"application/json"}});case 4:a=e.sent,console.log(JSON.stringify(null===a||void 0===a?void 0:a.data)),O("/login"),r(""),l(""),o(""),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),(null===e.t0||void 0===e.t0?void 0:e.t0.response)?400===(null===(j=e.t0.response)||void 0===j?void 0:j.status)?p("Missing Username or Password"):401===(null===(u=e.t0.response)||void 0===u?void 0:u.status)?p("Wrong Username or Password"):p("Registration Failed"):p("No Server Response"),t.current.focus();case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)("section",{children:[Object(u.jsx)("p",{ref:t,className:b?"errmsg":"offscreen","aria-live":"assertive",children:b}),Object(u.jsx)("h1",{children:"Sign Up"}),Object(u.jsxs)("form",{onSubmit:x,children:[Object(u.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(u.jsx)("input",{type:"text",id:"username",ref:e,autoComplete:"off",onChange:function(e){return r(e.target.value)},value:c,required:!0}),Object(u.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(u.jsx)("input",{type:"text",id:"email",onChange:function(e){return o(e.target.value)},value:s,required:!0}),Object(u.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(u.jsx)("input",{type:"password",id:"password",onChange:function(e){return l(e.target.value)},value:i,required:!0}),Object(u.jsx)("button",{children:"Register"})]})]})},X=function(){var e=Object(a.useContext)(S).user,t=Object(v.g)();return e?Object(u.jsx)(v.b,{}):Object(u.jsx)(v.a,{to:"/login",state:{from:t},replace:!0})},Z=function(){var e=Object(v.h)(),t=Object(v.g)().state;console.log(t);var n=Object(a.useContext)(S),c=n.userID,r=n.auth,s=Object(v.i)(),o=s.id,i=s.record_id,l=Object(a.useState)(""),j=Object(f.a)(l,2),d=j[0],p=j[1],O=Object(a.useState)(""),x=Object(f.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(""),T=Object(f.a)(N,2),C=T[0],D=T[1],k=Object(a.useState)(""),F=Object(f.a)(k,2),P=F[0],_=F[1],q=Object(a.useState)(""),R=Object(f.a)(q,2),E=R[0],M=R[1],Y=Object(a.useState)(""),L=Object(f.a)(Y,2),B=L[0],I=L[1];Object(a.useEffect)((function(){t&&(p(t.clinic),y(t.doctor),D(t.address),_(t.phone),M(t.date),I(t.agenda))}),[t]);var U=function(){var t=Object(m.a)(h.a.mark((function t(n){var s,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={id:n,date:E,clinic:d,address:C,phone:P,doctor:g,agenda:B},console.log(s),t.prev=2,t.next=5,w.patch("".concat(c,"/pets/").concat(o,"/medical/").concat(n),s,{headers:{"x-access-token":r.accessToken}});case 5:a=t.sent,e("/post/".concat(o)),console.log(a),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("Error: ".concat(t.t0.message));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(u.jsxs)("main",{className:"NewPost",children:[t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Edit Medical Record"}),Object(u.jsxs)("form",{className:"newPostForm",onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("label",{htmlFor:"postTitle",children:"Date:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:E,onChange:function(e){return M(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Clinic:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:d,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Address:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:C,onChange:function(e){return D(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Phone:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:P,onChange:function(e){return _(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Doctor:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:g,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Reason:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:B,onChange:function(e){return I(e.target.value)}}),Object(u.jsx)("button",{type:"submit",onClick:function(){return U(i)},children:"Submit"})]})]}),!t&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Page Not Found"}),Object(u.jsx)("p",{children:"Well, that's disappointing."}),Object(u.jsx)("p",{children:Object(u.jsx)(b.b,{to:"/",children:"Visit Our Homepage"})})]})]})},$=function(){var e=Object(v.h)(),t=Object(a.useContext)(S),n=t.userID,c=t.auth,r=Object(v.i)().id,s=Object(a.useState)(""),o=Object(f.a)(s,2),i=o[0],l=o[1],j=Object(a.useState)(""),d=Object(f.a)(j,2),b=d[0],p=d[1],O=Object(a.useState)(""),x=Object(f.a)(O,2),g=x[0],y=x[1],N=Object(a.useState)(""),T=Object(f.a)(N,2),C=T[0],D=T[1],k=Object(a.useState)(""),F=Object(f.a)(k,2),P=F[0],_=F[1],q=Object(a.useState)(""),R=Object(f.a)(q,2),E=R[0],M=R[1],Y=function(){var t=Object(m.a)(h.a.mark((function t(){var s,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={date:P,clinic:i,address:g,phone:C,doctor:b,agenda:E},t.prev=1,t.next=4,w.post("".concat(n,"/pets/").concat(r,"/medical"),s,{headers:{"x-access-token":c.accessToken}});case 4:a=t.sent,e("/post/".concat(r)),console.log(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Error: ".concat(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return Object(u.jsx)("main",{className:"NewPost",children:Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"New Medical Record"}),Object(u.jsxs)("form",{className:"newPostForm",onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsx)("label",{htmlFor:"postTitle",children:"Date:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:P,onChange:function(e){return _(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Clinic:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:i,onChange:function(e){return l(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Address:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:g,onChange:function(e){return y(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Phone:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:C,onChange:function(e){return D(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Doctor:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:b,onChange:function(e){return p(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postTitle",children:"Reason:"}),Object(u.jsx)("input",{id:"postTitle",type:"text",required:!0,value:E,onChange:function(e){return M(e.target.value)}}),Object(u.jsx)("button",{type:"submit",onClick:function(){return Y()},children:"Submit"})]})]})})};var ee=function(){return Object(u.jsx)(N,{children:Object(u.jsxs)(v.e,{children:[Object(u.jsx)(v.c,{path:"register",element:Object(u.jsx)(Q,{})}),Object(u.jsx)(v.c,{path:"login",element:Object(u.jsx)(K,{})}),Object(u.jsx)(v.c,{path:"/",element:Object(u.jsx)(D,{}),children:Object(u.jsxs)(v.c,{element:Object(u.jsx)(X,{}),children:[Object(u.jsx)(v.c,{index:!0,element:Object(u.jsx)(P,{})}),Object(u.jsxs)(v.c,{path:"post",children:[Object(u.jsx)(v.c,{index:!0,element:Object(u.jsx)(R,{})}),Object(u.jsx)(v.c,{path:":id",element:Object(u.jsx)(U,{})})]}),Object(u.jsx)(v.c,{path:"post/:id/edit",children:Object(u.jsx)(v.c,{index:!0,element:Object(u.jsx)(W,{})})}),Object(u.jsxs)(v.c,{path:"post/:id/medical",children:[Object(u.jsx)(v.c,{index:!0,element:Object(u.jsx)(J,{})}),Object(u.jsx)(v.c,{path:":record_id/edit",element:Object(u.jsx)(Z,{})}),Object(u.jsx)(v.c,{path:"new",element:Object(u.jsx)($,{})})]}),Object(u.jsx)(v.c,{path:"about",element:Object(u.jsx)(z,{})}),Object(u.jsx)(v.c,{path:"*",element:Object(u.jsx)(V,{})})]})})]})})};l.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(b.a,{children:Object(u.jsx)(N,{children:Object(u.jsx)(v.e,{children:Object(u.jsx)(v.c,{path:"/*",element:Object(u.jsx)(ee,{})})})})})}),document.getElementById("root"))},69:function(e,t,n){}},[[127,1,2]]]);
//# sourceMappingURL=main.9c3d0cb7.chunk.js.map